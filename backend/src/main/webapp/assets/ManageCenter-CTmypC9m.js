import{hh as ye,r as p,hk as S,hH as rt,f as Nt,hl as T,hm as Ut,hn as o,ho as k,hp as t,hr as a,hs as _,hQ as j,hq as f,hS as x,ht as Y,hI as E,hJ as D,hu as u,b as B,hx as N,hw as b,aY as ge,g2 as s,fV as Ee,hV as Rt,g3 as De,hP as ke}from"./index-C7oC9Sm-.js";import{P as Fe}from"./PageBackground2-CjL8nwIj.js";import{a as g,b as we}from"./Navbar-Cp1G5LLH.js";import{c as qt,a as jt,e as he,b as Ce}from"./royalty-C6ccYjyY.js";import{g as zt,a as xe,u as Ae,c as Ot}from"./proxy-BsxALH67.js";import{a as Be,r as Ue,u as Ht}from"./feedback-DEOOQuX0.js";import{F as $e,a as Ve}from"./feedbackStatus-DqnZOqTf.js";var Ie={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值",alphaDescription:"透明度 {alpha}, 当前颜色 {color}",hueLabel:"选择色相值",hueDescription:"色相 {hue}, 当前颜色 {color}",svLabel:"选择饱和度与明度的值",svDescription:"饱和度 {saturation}, 明度 {brightness}, 当前颜色 {color}",predefineDescription:"选择 {value} 作为颜色"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},mention:{loading:"加载中"},dropdown:{toggleDropdown:"切换下拉选项"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 Delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计",selectAllLabel:"选择所有行",selectRowLabel:"选择当前行",expandRowLabel:"展开当前行",collapseRowLabel:"收起当前行",sortLabel:"按 {column} 排序",filterLabel:"按 {column} 过滤"},tag:{close:"关闭此标签"},tour:{next:"下一步",previous:"上一步",finish:"结束导览",close:"关闭此对话框"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const Se={class:"top-tabs"},Le={key:0,class:"tab-content"},Pe={class:"query-form"},Me={class:"content-table"},Te={key:0},Ye={key:1},Ne={class:"feedback-filter"},Re={class:"feedback-item-list"},qe={key:0,class:"empty-tip"},je={class:"feedback-header"},ze={class:"feedback-id"},Oe={class:"feedback-content"},He={class:"feedback-actions"},Ke=["onClick"],Qe=["onClick"],Je={key:0,class:"pagination"},We=["disabled"],Ge=["disabled"],Xe={key:1,class:"dialog-mask"},Ze={class:"dialog-content"},tl={key:2,class:"dialog-mask"},el={class:"dialog-content"},ll={key:2,class:"tab-content"},nl={class:"manage-form"},ul={class:"form-row"},ol={class:"form-row"},al=["value"],sl={class:"form-row"},rl=["value"],il={class:"form-row"},dl=["value"],pl={class:"form-row"},ml={class:"form-row"},cl={class:"content-table"},vl={key:0},_l=["onClick"],fl=["onClick"],bl={class:"dialog-footer"},yl={key:3,class:"tab-content"},gl={class:"content-table"},El={key:0},Dl=["onClick"],kl=["onClick"],Fl={key:0,class:"dialog-mask"},wl={class:"dialog-content"},hl={key:0,class:"form-row"},Cl=["value"],xl={key:1,class:"form-row"},Al=["value"],Bl={class:"form-row"},Ul={class:"form-row"},$l={class:"dialog-btns"},Vl={key:4,class:"tab-content"},Il={class:"form-row",style:{"align-items":"center",gap:"20px","margin-bottom":"20px","flex-wrap":"wrap"}},Sl={style:{display:"flex","align-items":"center",gap:"10px"}},Ll=["value"],Pl=["value"],Ml={style:{display:"flex","align-items":"center"}},Tl={class:"dept-section"},Yl={class:"content-table"},Nl={key:0},Rl={class:"total-row bold"},ql={class:"dept-section"},jl={class:"content-table"},zl={key:0},Ol={class:"total-row"},Hl={class:"dept-section"},Kl={class:"content-table"},Ql={key:0},Jl={class:"total-row"},Wl={class:"total-row"},Gl={class:"total-row bold"},Xl={key:5,class:"tab-content"},Zl={class:"query-form mb-20"},tn={class:"content-table"},en={key:0},ln={class:"content-table"},nn={key:0},un={key:0},on={class:"total-row"},an={class:"content-table"},sn={key:0},rn={key:0},dn={class:"total-row"},pn={class:"content-table"},mn={key:0},cn={key:0},vn={class:"total-row"},_n={key:6,class:"dialog-mask"},fn={class:"dialog-content"},bn={class:"form-row"},yn={class:"form-row"},gn={class:"form-row"},En={class:"form-row"},Dn={class:"dialog-btns"},kn={__name:"ManageCenter",setup(Fn){const C=p("query"),z={1:"新闻部",2:"编辑部",3:"运营部",news:1,edit:2,operation:3},J=async n=>{switch(C.value=n,n){case"query":await dt();break;case"manage":await mt(),await G();break;case"user":await wt();break;case"summary":break;case"account":await mt();break;case"feedback":await pt();break}},I=S({month:"",deptId:"",article_title:""}),ft=p([]),bt=p(!1),it=p(!1),F=S({record_id:"",created_at:"",article_title:"",real_names:[],fee_amount:0,deptId:""}),dt=async()=>{try{const n=new Date().getFullYear(),e={statistical_month:I.month?`${n}-${I.month.padStart(2,"0")}`:"",department_id:z[I.deptId]||"",article_title:I.article_title},r=await jt(e);if(r.res_code==="0000"){const m=r.data?.list||[];ft.value=m.map(d=>{const y=d.real_names?d.real_names.join(","):"未知人员",v=d.fee_amount||0;return{...d,userAmountDetail:`${y}(${v}元)`,deptName:z[d.department_id]||"未知部门"}})}else s.error(`获取任务列表失败：${r.res_msg}`)}catch{s.error("网络异常，获取任务列表失败")}},Kt=async()=>{if(!F.article_title||!F.deptId||F.fee_amount<=0){s.warning("请填写任务名称、选择部门并输入有效金额");return}try{const n={record_id:F.record_id,article_title:F.article_title,real_names:F.real_names,fee_amount:F.fee_amount,department_id:z[F.deptId]},e=await Ce(n);e.res_code==="0000"?(s.success(it.value?"新增任务成功":"编辑任务成功"),bt.value=!1,await dt()):s.error(`${it.value?"新增":"编辑"}任务失败：${e.res_msg}`)}catch{s.error(`网络异常，${it.value?"新增":"编辑"}任务失败`)}},O=p([]),Qt=p(0),L=p(1),yt=p(2),H=p(""),K=p(""),gt=S({page:1,size:100,status:""}),Et=p(!1),P=p(""),Q=S({reply_content:""}),Dt=p(!1),W=S({status:"pending"}),kt=rt(()=>{let n=[...O.value];if(H.value&&(n=n.filter(m=>m.created_at?.split("-")[1]===H.value.padStart(2,"0"))),K.value){const m=K.value.trim().toLowerCase();n=n.filter(d=>d.real_name?.toLowerCase().includes(m))}const e=(L.value-1)*yt.value,r=e+yt.value;return n.slice(e,r)}),Ft=rt(()=>{let n=[...O.value];if(H.value&&(n=n.filter(e=>e.created_at?.split("-")[1]===H.value.padStart(2,"0"))),K.value){const e=K.value.trim().toLowerCase();n=n.filter(r=>r.real_name?.toLowerCase().includes(e))}return Math.ceil(n.length/yt.value)||1}),pt=async()=>{try{const n=await Be(gt);n.res_code==="0000"?(O.value=n.data.list||[],Qt.value=n.data.total||0,L.value=1):(s.error(`查询失败：${n.res_msg}`),O.value=[])}catch{s.error("网络异常，查询反馈失败"),O.value=[]}},Jt=()=>{L.value=1},$t=n=>{n<1||n>Ft.value||(L.value=n)},Wt=n=>{P.value=n,Q.reply_content="",Et.value=!0},Vt=()=>{Et.value=!1,P.value="",Q.reply_content=""},Gt=async()=>{if(!Q.reply_content.trim()){s.warning("请输入回复内容");return}try{const n=await Ue(P.value,{reply_content:Q.reply_content});n.res_code==="0000"?(s.success("回复成功"),Vt(),await Ht(P.value,{status:"replied"}),await pt()):s.error(`回复失败：${n.res_msg}`)}catch{s.error("网络异常，回复失败")}},Xt=n=>{P.value=n;const e=O.value.find(r=>r.feedback_id===n);e&&(W.status=e.status||"pending"),Dt.value=!0},It=()=>{Dt.value=!1,P.value="",W.status="pending"},Zt=async()=>{try{const n=await Ht(P.value,{status:W.status});n.res_code==="0000"?(s.success("状态更新成功"),It(),await pt()):s.error(`状态更新失败：${n.res_msg}`)}catch{s.error("网络异常，状态更新失败")}},c=S({month:"",feeRecordId:"",proxyUserId:"",beProxyUserId:"",deptId:"",amount:0}),R=p([]),A=p([]),St=p([]),mt=async()=>{try{const n=await Rt({page:1,size:999});n.res_code==="0000"?(A.value=n.data?.list||[],A.value.length>0):s.error(`加载成员列表失败：${n.res_msg}`)}catch{s.error("网络异常，加载成员列表失败")}},te=async()=>{try{const n=await jt({page:1,size:100});n.res_code==="0000"?St.value=n.data?.list||[]:s.error(`加载稿费记录失败：${n.res_msg}`)}catch{s.error("网络异常，加载稿费记录失败")}},G=async(n={})=>{try{const e={page:1,size:999,...n},r=await zt(e);if(r.res_code==="0000"){const m=r.data?.list||[];R.value=m.map(d=>{const y=String(d.proxy_user_id),v=String(d.original_user_id),M=A.value.find(U=>String(U.user_id||U.userId||U.id)===y)?.real_name||"未知用户",V=A.value.find(U=>String(U.user_id||U.userId||U.id)===v)?.real_name||"未知用户",at=z[d.department_id]||"未知部门";return{...d,proxy_user_name:M,original_user_name:V,department_name:at,fee_amount:Number(d.fee_amount)||0}})}else s.error(`获取代领列表失败：${r.res_msg}`),R.value=[]}catch(e){s.error("网络异常，获取代领列表失败"),R.value=[],console.error("代领列表请求失败：",e)}},ee=async()=>{if(!c.feeRecordId){s.warning("请选择稿费记录");return}if(!c.month){s.warning("请选择代领月份");return}if(!c.proxyUserId){s.warning("请选择代领人");return}if(!c.beProxyUserId){s.warning("请选择被代领人");return}if(!c.deptId){s.warning("请选择代领部门");return}const n=Number(c.amount);if(isNaN(n)||n<=0){s.warning("请输入有效的正数金额");return}try{const e=new Date().getFullYear(),r={fee_record_id:c.feeRecordId,proxy_month:`${e}-${c.month.padStart(2,"0")}`,proxy_user_id:c.proxyUserId,original_user_id:c.beProxyUserId,department_id:z[c.deptId],fee_amount:c.amount},m=await xe(r);m.res_code==="0000"?(s.success("代领设置成功"),c.month="",c.proxyUserId="",c.beProxyUserId="",c.deptId="",c.amount=0,await G()):s.error(`代领设置失败：${m.res_msg}`)}catch{s.error("网络异常，代领设置失败")}},X=p(!1),i=S({proxy_id:"",proxy_user_id:"",original_user_id:"",department_id:"",proxy_month:"",fee_record_id:"",article_title:"",fee_amount:0,description:""}),le=n=>{console.log("打开修改代领弹窗:",n),i.proxy_id=n.proxy_id,i.proxy_user_id=n.proxy_user_id,i.original_user_id=n.original_user_id,i.department_id=n.department_id,i.proxy_month=n.proxy_month,i.fee_record_id=n.fee_record_id,i.article_title=n.article_title||"",i.fee_amount=n.fee_amount||0,i.description=n.description||"",X.value=!0},ne=async()=>{try{const n={};i.proxy_user_id&&(n.proxy_user_id=i.proxy_user_id),i.original_user_id&&(n.original_user_id=i.original_user_id),i.department_id&&(n.department_id=i.department_id),i.proxy_month&&(n.proxy_month=i.proxy_month),i.fee_record_id&&(n.fee_record_id=i.fee_record_id),i.article_title&&(n.article_title=i.article_title),i.fee_amount&&i.fee_amount>0&&(n.fee_amount=i.fee_amount),i.description&&(n.description=i.description),console.log("提交修改代领参数:",{proxyId:i.proxy_id,params:n});const e=await Ae(i.proxy_id,n);e.res_code==="0000"?(s.success("修改代领记录成功"),X.value=!1,await G()):s.error(`修改失败：${e.res_msg}`)}catch(n){console.error("修改代领记录异常:",n),s.error("网络异常，修改代领记录失败")}},ue=n=>{De.confirm(`确认要撤销这条代领记录吗？<br>
  代领人：${n.proxy_user_name}<br>
  被代领人：${n.original_user_name}<br>
  金额：${g(n.fee_amount)}元`,"确认撤销",{confirmButtonText:"确认撤销",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then(async()=>{await oe(n.proxy_id)}).catch(()=>{})},oe=async n=>{try{console.log("撤销代领记录:",n);const e=await Ot(n);e.res_code==="0000"?(s.success("撤销代领记录成功"),await G()):s.error(`撤销失败：${e.res_msg}`)}catch(e){console.error("撤销代领记录异常:",e),s.error("网络异常，撤销代领记录失败")}},ae=async()=>{await mt(),await te(),await G(),await Bt()};Nt(()=>{console.log("进入运营部，组件挂载，开始初始化数据"),ae()});const Z=p(!1),tt=p(!1),w=S({userId:"",student_number:"",real_name:"",email:""}),wt=async()=>{try{const n=await Rt();n.res_code==="0000"?A.value=n.data.list||[]:s.error(`获取人员列表失败：${n.res_msg}`)}catch{s.error("网络异常，获取人员列表失败")}},se=(n={})=>{tt.value=!n.user_id,w.userId=n.user_id||"",w.student_number=n.student_number||"",w.real_name=n.real_name||"",w.email=n.email||"",Z.value=!0},re=async()=>{if(tt.value){s.warning("当前接口仅支持更新用户信息，暂不支持新增成员"),Z.value=!1;return}if(!w.userId){s.warning("用户ID不能为空");return}const n={sign:"your_admin_sign_value",...w.real_name&&{real_name:w.real_name},...w.email&&{email:w.email}};if(Object.keys(n).length===1){s.warning("请填写要更新的姓名或邮箱");return}try{const e=await ke(w.userId,n);e.res_code==="0000"?(s.success("用户信息更新成功"),Z.value=!1,await wt()):s.error(`更新失败：${e.res_msg}`)}catch(e){console.error("更新用户信息异常:",e),s.error("网络异常，更新用户信息失败")}},ie=async n=>{try{const e=await Ot(n);e.res_code==="0000"?(s.success("移除成员成功"),await wt()):s.error(`移除成员失败：${e.res_msg}`)}catch{s.error("网络异常，移除成员失败")}},ct=p(""),et=p(""),Lt=p([]),h=S({statistical_month:"",department_id:"",format:""}),de=()=>{new Date().getFullYear();const n="2026",e="2035",r=[];for(let m=n;m<=e;m++)r.push(m);return r},pe=()=>{et.value="",Lt.value=Array.from({length:12},(n,e)=>{const r=e+1;return{value:String(r).padStart(2,"0"),label:`${r}月`}})},me=()=>{ct.value&&et.value&&(h.statistical_month=`${ct.value}-${et.value}`,ce())},Pt=p([]),vt=p([]),lt=p([]),Mt=rt(()=>g(Pt.value.reduce((n,e)=>n+Number(e.totalAmount),0))),ht=rt(()=>g(vt.value.reduce((n,e)=>n+Number(e.totalAmount),0))),Tt=rt(()=>g(Number(Mt.value)+Number(ht.value))),ce=async()=>{if(!h.statistical_month){s.warning("请选择统计月份（YYYY-MM）");return}try{const[n,e]=h.statistical_month.split("-"),r=`${n}-${e}-01`,m=new Date(Number(n),Number(e),0).toISOString().split("T")[0],d=await qt({startDate:r,endDate:m,department_id:h.department_id?Number(h.department_id):0});if(d.res_code==="0000"){const y=d.data.list||[];Pt.value=y.filter(v=>v.department_id===1).map(v=>({...v,created_at:we(v.created_at),real_names:Array.isArray(v.real_names)?v.real_names.join(", "):v.real_names,amountDetail:`稿费: ${g(v.fee_amount)}元`,totalAmount:v.fee_amount})),vt.value=y.filter(v=>v.department_id===2).map(v=>({...v,real_name:Array.isArray(v.real_names)?v.real_names.join(", "):v.real_names,amountDetail:`稿费: ${g(v.fee_amount)}元`,totalAmount:v.fee_amount})),ve(y)}else s.error(`获取汇总数据失败：${d.res_msg}`)}catch(n){console.error("获取汇总数据失败:",n),s.error("网络异常，获取汇总数据失败")}},ve=n=>{const e=new Map;n.forEach(r=>{const m=r.user_ids?.length||0;for(let d=0;d<m;d++){const y=r.user_ids[d],v=r.real_names[d]||"未知";e.has(y)||e.set(y,{userId:y,real_name:v,newsAmount:0,editAmount:0,bigImgAmount:0,totalAmount:0});const M=e.get(y),V=Number(r.fee_amount)/m;r.department_id===1&&(M.newsAmount+=V),r.department_id===2&&(M.editAmount+=V)}}),lt.value=Array.from(e.values()).map(r=>({...r,newsAmount:g(r.newsAmount),editAmount:g(r.editAmount),bigImgAmount:g(r.bigImgAmount),totalAmount:g(r.newsAmount+r.editAmount+r.bigImgAmount)}))},_e=async()=>{if(!h.statistical_month){s.warning("请选择统计月份（YYYY-MM）");return}if(!h.department_id){s.warning("请选择部门ID");return}if(!h.format){s.warning("请选择导出格式（Excel/PDF）");return}try{const n={statistical_month:h.statistical_month,department_id:Number(h.department_id),format:h.format};console.log("导出接口请求参数：",n);const e=await he(n);if(console.log(e),e.res_code==="0000"){const{fileUrl:r,recordCount:m,exportTime:d}=e.data;if(s.success(`导出成功！${d}，共${m}条记录`),r){const y=document.createElement("a");y.href=r,y.download=`稿费汇总_${h.statistical_month}.${h.format.toLowerCase()}`,y.click()}}else s.error(`导出失败：${e.res_msg}`)}catch(n){console.error("导出接口调用失败：",n),s.error("导出失败："+(n.response?.data?.res_msg||"网络异常"))}},nt=p([]),ut=p([]),ot=p([]),Ct=p(0),xt=p(0),At=p(0),q=S({month:""}),fe=p([]),Yt=n=>{const e=new Date(2026,0,1),r=new Date(2035,11,31);return n<e||n>r},Bt=async()=>{if(nt.value=[],ut.value=[],ot.value=[],Ct.value=0,xt.value=0,At.value=0,!q.month){s.warning("请选择月份");return}const n=q.month,e=Ee.service({lock:!0,text:"加载中...",background:"rgba(0, 0, 0, 0.7)"});try{const r=await zt({proxy_month:n}),m=r.data.list||[];if(r.res_code!=="0000"){s.error(`获取代领记录失败：${r.res_msg}`),e.close();return}if(m.length===0){s.info("暂无该月份代领记录"),e.close();return}const[d,y]=n.split("-"),v=`${n}-01`,M=new Date(Number(d),Number(y),0).toISOString().split("T")[0],V=await qt({startDate:v,endDate:M,size:9999});if(V.res_code!=="0000"){s.error(`获取稿费记录失败：${V.res_msg}`),e.close();return}const at=V.data.list||[],U=m.map(l=>{const $=at.find(st=>st.record_id===l.fee_record_id);if(!$)return null;const _t=A?.value?.find(st=>st.user_id===l.proxy_user_id)?.real_name||"未知用户",be=z[$.department_id]||"未知部门";return{...$,proxy_user_id:l.proxy_user_id,proxy_user_name:_t,original_user_name:A?.value?.find(st=>st.user_id===l.original_user_id)?.real_name||"未知用户",department_name:be,fee_amount:l.fee_amount||$.fee_amount}}).filter(Boolean);U.forEach(l=>{ot.value.push(l),l.department_name==="新闻部"?(nt.value.push(l),Ct.value+=Number(l.fee_amount)):l.department_name==="编辑部"&&(ut.value.push(l),xt.value+=Number(l.fee_amount)),At.value+=Number(l.fee_amount)}),fe.value=U,e.close()}catch(r){e.close(),s.error("网络异常，获取做账数据失败"),console.error("做账数据请求失败：",r)}};return Nt(()=>{const n=new Date,e=n.getFullYear(),r=(n.getMonth()+1).toString().padStart(2,"0"),m=`${e}-${r}`;e>=2026&&e<=2035&&(q.month=m,Bt())}),dt(),mt(),(n,e)=>{const r=T("el-option"),m=T("el-select"),d=T("el-form-item"),y=T("el-input-number"),v=T("el-input"),M=T("el-form"),V=T("el-button"),at=T("el-dialog"),U=T("el-date-picker");return o(),Ut(Fe,null,{"card-content":k(()=>[t("div",Se,[t("button",{class:j(["top-tab-btn",{active:C.value==="query"}]),onClick:e[0]||(e[0]=l=>J("query"))}," 任务查询 ",2),t("button",{class:j(["top-tab-btn",{active:C.value==="feedback"}]),onClick:e[1]||(e[1]=()=>{C.value="feedback",pt()})}," 查看反馈 ",2),t("button",{class:j(["top-tab-btn",{active:C.value==="manage"}]),onClick:e[2]||(e[2]=l=>J("manage"))}," 代领设置 ",2),t("button",{class:j(["top-tab-btn",{active:C.value==="user"}]),onClick:e[3]||(e[3]=l=>J("user"))}," 人员管理 ",2),t("button",{class:j(["top-tab-btn",{active:C.value==="summary"}]),onClick:e[4]||(e[4]=l=>J("summary"))}," 稿费汇总 ",2),t("button",{class:j(["top-tab-btn",{active:C.value==="account"}]),onClick:e[5]||(e[5]=l=>J("account"))}," 做账稿费 ",2)]),C.value==="query"?(o(),a("div",Le,[t("div",Pe,[e[43]||(e[43]=t("label",null,"选择月份:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[6]||(e[6]=l=>I.month=l)},[...e[41]||(e[41]=[t("option",{value:""},"全部",-1),t("option",{value:"01"},"1月",-1),t("option",{value:"02"},"2月",-1),t("option",{value:"03"},"3月",-1),t("option",{value:"04"},"4月",-1),t("option",{value:"05"},"5月",-1),t("option",{value:"06"},"6月",-1),t("option",{value:"07"},"7月",-1),t("option",{value:"08"},"8月",-1),t("option",{value:"09"},"9月",-1),t("option",{value:"10"},"10月",-1),t("option",{value:"11"},"11月",-1),t("option",{value:"12"},"12月",-1)])],512),[[x,I.month]]),e[44]||(e[44]=t("label",null,"选择部门:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[7]||(e[7]=l=>I.deptId=l)},[...e[42]||(e[42]=[t("option",{value:""},"全部",-1),t("option",{value:"news"},"新闻部",-1),t("option",{value:"edit"},"编辑部",-1),t("option",{value:"operation"},"运营部",-1)])],512),[[x,I.deptId]]),e[45]||(e[45]=t("label",null,"任务名称:",-1)),f(t("input",{type:"text",placeholder:"输入任务名称查询",class:"form-input","onUpdate:modelValue":e[8]||(e[8]=l=>I.article_title=l)},null,512),[[Y,I.article_title]]),t("button",{class:"query-btn",onClick:dt},"查询")]),t("table",Me,[e[47]||(e[47]=t("thead",null,[t("tr",null,[t("th",null,"日期"),t("th",null,"任务名称"),t("th",null,"参与人"),t("th",null,"金额详情"),t("th",null,"部门")])],-1)),t("tbody",null,[ft.value.length===0?(o(),a("tr",Te,[...e[46]||(e[46]=[t("td",{colspan:"4",class:"empty-tip"},"暂无任务记录",-1)])])):_("",!0),(o(!0),a(E,null,D(ft.value,l=>(o(),a("tr",{key:l.record_id},[t("td",null,u(l.created_at),1),t("td",null,u(l.article_title),1),t("td",null,u(l.real_names?.join(", ")||"-"),1),t("td",null,u(l.fee_amount),1),t("td",null,u(l.deptName),1)]))),128))])])])):_("",!0),C.value==="feedback"?(o(),a("div",Ye,[t("div",Ne,[e[50]||(e[50]=t("label",null,"反馈状态:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[9]||(e[9]=l=>gt.status=l)},[...e[48]||(e[48]=[t("option",{value:""},"全部",-1),t("option",{value:"pending"},"待处理",-1),t("option",{value:"replied"},"已回复",-1)])],512),[[x,gt.status]]),e[51]||(e[51]=t("label",null,"月份:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[10]||(e[10]=l=>H.value=l)},[...e[49]||(e[49]=[t("option",{value:""},"全部",-1),t("option",{value:"1"},"1月",-1)])],512),[[x,H.value]]),e[52]||(e[52]=t("label",null,"用户姓名:",-1)),f(t("input",{type:"text",placeholder:"输入姓名模糊查询",class:"form-input","onUpdate:modelValue":e[11]||(e[11]=l=>K.value=l)},null,512),[[Y,K.value]]),t("button",{class:"query-btn",onClick:Jt},"查询")]),t("div",Re,[kt.value.length===0?(o(),a("div",qe,"暂无反馈数据")):_("",!0),(o(!0),a(E,null,D(kt.value,l=>(o(),a("div",{class:"feedback-item",key:l.feedback_id},[t("div",je,[t("span",ze,"反馈ID："+u(l.feedback_id),1),t("span",{class:j(["status-tag",B($e)[l.status]])},u(B(Ve)[l.status]),3)]),t("div",Oe,[t("p",null,[e[53]||(e[53]=t("span",{class:"label"},"反馈用户：",-1)),N(u(l.real_name),1)]),t("p",null,[e[54]||(e[54]=t("span",{class:"label"},"反馈内容：",-1)),N(u(l.content),1)]),t("p",null,[e[55]||(e[55]=t("span",{class:"label"},"反馈时间：",-1)),N(u(l.created_at),1)]),t("p",null,[e[56]||(e[56]=t("span",{class:"label"},"回复时间：",-1)),N(u(l.replied_at||"未回复"),1)]),t("p",null,[e[57]||(e[57]=t("span",{class:"label"},"回复内容：",-1)),N(u(l.reply_content||"暂无回复"),1)])]),t("div",He,[t("button",{class:"op-btn reply-btn",onClick:$=>Wt(l.feedback_id)},"回复",8,Ke),t("button",{class:"op-btn status-btn",onClick:$=>Xt(l.feedback_id)},"改状态",8,Qe)])]))),128))]),kt.value.length>0?(o(),a("div",Je,[t("button",{class:"page-btn",onClick:e[12]||(e[12]=l=>$t(L.value-1)),disabled:L.value<=1}," 上一页 ",8,We),t("span",null,"第"+u(L.value)+"页 / 共"+u(Ft.value)+"页",1),t("button",{class:"page-btn",onClick:e[13]||(e[13]=l=>$t(L.value+1)),disabled:L.value>=Ft.value}," 下一页 ",8,Ge)])):_("",!0),Et.value?(o(),a("div",Xe,[t("div",Ze,[t("h4",null,"回复反馈（ID: "+u(P.value)+"）",1),f(t("textarea",{placeholder:"请输入回复内容",class:"reply-textarea","onUpdate:modelValue":e[14]||(e[14]=l=>Q.reply_content=l)},null,512),[[Y,Q.reply_content]]),t("div",{class:"dialog-btns"},[t("button",{class:"cancel-btn",onClick:Vt},"取消"),t("button",{class:"confirm-btn",onClick:Gt},"提交回复")])])])):_("",!0),Dt.value?(o(),a("div",tl,[t("div",el,[t("h4",null,"更新反馈状态（ID: "+u(P.value)+"）",1),f(t("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=l=>W.status=l)},[...e[58]||(e[58]=[t("option",{value:"pending"},"待处理",-1),t("option",{value:"replied"},"已回复",-1)])],512),[[x,W.status]]),t("div",{class:"dialog-btns"},[t("button",{class:"cancel-btn",onClick:It},"取消"),t("button",{class:"confirm-btn",onClick:Zt},"确认更新")])])])):_("",!0)])):_("",!0),C.value==="manage"?(o(),a("div",ll,[e[75]||(e[75]=t("div",{class:"section-title"},[t("div",{class:"title-line"}),t("h3",null,"代领设置")],-1)),t("div",nl,[t("div",ul,[e[60]||(e[60]=t("label",null,"选择月份:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[16]||(e[16]=l=>c.month=l)},[...e[59]||(e[59]=[t("option",{value:""},"请选择",-1),t("option",{value:"01"},"1月",-1),t("option",{value:"02"},"2月",-1),t("option",{value:"03"},"3月",-1),t("option",{value:"04"},"4月",-1),t("option",{value:"05"},"5月",-1),t("option",{value:"06"},"6月",-1),t("option",{value:"07"},"7月",-1),t("option",{value:"08"},"8月",-1),t("option",{value:"09"},"9月",-1),t("option",{value:"10"},"10月",-1),t("option",{value:"11"},"11月",-1),t("option",{value:"12"},"12月",-1)])],512),[[x,c.month]])]),t("div",ol,[e[62]||(e[62]=t("label",null,"稿费记录:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[17]||(e[17]=l=>c.feeRecordId=l)},[e[61]||(e[61]=t("option",{value:""},"请选择稿费记录",-1)),(o(!0),a(E,null,D(St.value,l=>(o(),a("option",{key:l.record_id,value:l.record_id},u(l.record_id)+" - "+u(l.real_names?.join(",")||"未知用户")+" - "+u(B(g)(l.fee_amount))+"元 - "+u(l.created_at?.split("-")[1]||"未知")+"月 ",9,al))),128))],512),[[x,c.feeRecordId]])]),t("div",sl,[e[64]||(e[64]=t("label",null,"代领人:",-1)),f(t("select",{class:"form-input","onUpdate:modelValue":e[18]||(e[18]=l=>c.proxyUserId=l)},[e[63]||(e[63]=t("option",{value:""},"请选择代领人",-1)),(o(!0),a(E,null,D(A.value,l=>(o(),a("option",{key:l.user_id,value:l.user_id},u(l.real_name),9,rl))),128))],512),[[x,c.proxyUserId]])]),t("div",il,[e[66]||(e[66]=t("label",null,"被代领人:",-1)),f(t("select",{class:"form-input","onUpdate:modelValue":e[19]||(e[19]=l=>c.beProxyUserId=l)},[e[65]||(e[65]=t("option",{value:""},"请选择被代领人",-1)),(o(!0),a(E,null,D(A.value,l=>(o(),a("option",{key:l.user_id,value:l.user_id},u(l.real_name),9,dl))),128))],512),[[x,c.beProxyUserId]])]),t("div",pl,[e[68]||(e[68]=t("label",null,"选择部门:",-1)),f(t("select",{class:"form-input small-input","onUpdate:modelValue":e[20]||(e[20]=l=>c.deptId=l)},[...e[67]||(e[67]=[t("option",{value:""},"请选择",-1),t("option",{value:"news"},"新闻部",-1),t("option",{value:"edit"},"编辑部",-1)])],512),[[x,c.deptId]])]),t("div",ml,[e[69]||(e[69]=t("label",null,"金额:",-1)),f(t("input",{type:"number",step:"1.00",placeholder:"输入",class:"form-input tiny-input","onUpdate:modelValue":e[21]||(e[21]=l=>c.amount=l)},null,512),[[Y,c.amount]]),e[70]||(e[70]=N("元 ",-1))]),t("button",{class:"confirm-btn",onClick:ee},"确认代领")]),e[76]||(e[76]=t("div",{class:"section-title"},[t("div",{class:"title-line"}),t("h3",null,"当前代领")],-1)),t("table",cl,[e[74]||(e[74]=t("thead",null,[t("tr",null,[t("th",null,"代领人"),t("th",null,"被代领人"),t("th",null,"部门"),t("th",null,"金额"),t("th",null,"操作")])],-1)),t("tbody",null,[R.value.length===0?(o(),a("tr",vl,[...e[71]||(e[71]=[t("td",{colspan:"5",class:"empty-tip"},"暂无代领记录",-1)])])):_("",!0),(o(!0),a(E,null,D(R.value,l=>(o(),a("tr",{key:l.proxy_id},[t("td",null,u(l.proxy_user_name),1),t("td",null,u(l.original_user_name),1),t("td",null,u(l.department_name),1),t("td",null,u(B(g)(l.fee_amount)),1),t("td",null,[t("button",{class:"op-btn",onClick:$=>le(l)},"修改",8,_l),t("button",{class:"op-btn danger",onClick:$=>ue(l)},"撤销",8,fl)])]))),128))]),b(at,{modelValue:X.value,"onUpdate:modelValue":e[28]||(e[28]=l=>X.value=l),title:"修改代领记录",width:"500px"},{footer:k(()=>[t("span",bl,[b(V,{onClick:e[27]||(e[27]=l=>X.value=!1)},{default:k(()=>[...e[72]||(e[72]=[N("取消",-1)])]),_:1}),b(V,{type:"primary",onClick:ne},{default:k(()=>[...e[73]||(e[73]=[N("确定修改",-1)])]),_:1})])]),default:k(()=>[b(M,{model:i,"label-width":"100px"},{default:k(()=>[b(d,{label:"代领人"},{default:k(()=>[b(m,{modelValue:i.proxy_user_id,"onUpdate:modelValue":e[22]||(e[22]=l=>i.proxy_user_id=l),placeholder:"请选择代领人"},{default:k(()=>[(o(!0),a(E,null,D(A.value,l=>(o(),Ut(r,{key:l.user_id,label:l.real_name,value:l.user_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),b(d,{label:"被代领人"},{default:k(()=>[b(m,{modelValue:i.original_user_id,"onUpdate:modelValue":e[23]||(e[23]=l=>i.original_user_id=l),placeholder:"请选择被代领人"},{default:k(()=>[(o(!0),a(E,null,D(A.value,l=>(o(),Ut(r,{key:l.user_id,label:l.real_name,value:l.user_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),b(d,{label:"部门"},{default:k(()=>[b(m,{modelValue:i.department_id,"onUpdate:modelValue":e[24]||(e[24]=l=>i.department_id=l),placeholder:"请选择部门"},{default:k(()=>[b(r,{label:"新闻部",value:1}),b(r,{label:"编辑部",value:2}),b(r,{label:"运营部",value:3})]),_:1},8,["modelValue"])]),_:1}),b(d,{label:"金额"},{default:k(()=>[b(y,{modelValue:i.fee_amount,"onUpdate:modelValue":e[25]||(e[25]=l=>i.fee_amount=l),min:0,precision:2,placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),b(d,{label:"备注"},{default:k(()=>[b(v,{modelValue:i.description,"onUpdate:modelValue":e[26]||(e[26]=l=>i.description=l),type:"textarea",rows:3,placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])])):_("",!0),C.value==="user"?(o(),a("div",yl,[e[83]||(e[83]=t("div",{class:"section-title"},[t("div",{class:"title-line"}),t("h3",null,"目前成员")],-1)),t("table",gl,[e[78]||(e[78]=t("thead",null,[t("tr",null,[t("th",null,"真实姓名"),t("th",null,"学号"),t("th",null,"邮箱"),t("th",null,"操作")])],-1)),t("tbody",null,[A.value.length===0?(o(),a("tr",El,[...e[77]||(e[77]=[t("td",{colspan:"6",class:"empty-tip"},"暂无成员记录",-1)])])):_("",!0),(o(!0),a(E,null,D(A.value,l=>(o(),a("tr",{key:l.user_id},[t("td",null,u(l.real_name),1),t("td",null,u(l.student_number),1),t("td",null,u(l.email),1),t("td",null,[t("button",{class:"op-btn",onClick:$=>se(l)},"编辑",8,Dl),t("button",{class:"op-btn danger",onClick:$=>ie(l.user_id)},"移除",8,kl)])]))),128))])]),Z.value?(o(),a("div",Fl,[t("div",wl,[t("h4",null,u(tt.value?"新增成员":"编辑成员"),1),tt.value?_("",!0):(o(),a("div",hl,[e[79]||(e[79]=t("label",null,"用户ID:",-1)),t("input",{type:"text",class:"form-input",value:w.userId,disabled:""},null,8,Cl)])),tt.value?_("",!0):(o(),a("div",xl,[e[80]||(e[80]=t("label",null,"学号:",-1)),t("input",{type:"text",class:"form-input",value:w.student_number,disabled:""},null,8,Al)])),t("div",Bl,[e[81]||(e[81]=t("label",null,"真实姓名:",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[29]||(e[29]=l=>w.real_name=l),placeholder:"请输入真实姓名"},null,512),[[Y,w.real_name]])]),t("div",Ul,[e[82]||(e[82]=t("label",null,"邮箱:",-1)),f(t("input",{type:"email",class:"form-input","onUpdate:modelValue":e[30]||(e[30]=l=>w.email=l),placeholder:"请输入邮箱地址"},null,512),[[Y,w.email]])]),t("div",$l,[t("button",{class:"cancel-btn",onClick:e[31]||(e[31]=l=>Z.value=!1)},"取消"),t("button",{class:"confirm-btn",onClick:re},"确认更新")])])])):_("",!0)])):_("",!0),C.value==="summary"?(o(),a("div",Vl,[e[103]||(e[103]=t("div",{class:"section-title"},[t("div",{class:"title-line"}),t("h3",null,"稿费汇总与导出")],-1)),t("div",Il,[t("div",Sl,[e[86]||(e[86]=t("label",null,"统计月份:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[32]||(e[32]=l=>ct.value=l),onChange:pe},[e[84]||(e[84]=t("option",{value:""},"请选择年份",-1)),(o(!0),a(E,null,D(de(),l=>(o(),a("option",{key:l,value:l},u(l)+"年 ",9,Ll))),128))],544),[[x,ct.value]]),f(t("select",{class:"form-select","onUpdate:modelValue":e[33]||(e[33]=l=>et.value=l),onChange:me},[e[85]||(e[85]=t("option",{value:""},"请选择月份",-1)),(o(!0),a(E,null,D(Lt.value,l=>(o(),a("option",{key:l.value,value:l.value},u(l.label),9,Pl))),128))],544),[[x,et.value]])]),t("div",Ml,[e[88]||(e[88]=t("label",null,"部门:",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[34]||(e[34]=l=>h.department_id=l)},[...e[87]||(e[87]=[t("option",{value:""},"请选择部门",-1),t("option",{value:"1"},"新闻部",-1),t("option",{value:"2"},"编辑部",-1),t("option",{value:"3"},"运营部",-1)])],512),[[x,h.department_id]])]),t("button",{class:"export-btn",onClick:_e},"导出数据")]),t("div",Tl,[e[92]||(e[92]=t("label",null,"稿费汇总:",-1)),t("table",Yl,[e[90]||(e[90]=t("thead",null,[t("tr",null,[t("th",null,"姓名"),t("th",null,"新闻部稿费"),t("th",null,"编辑部稿费"),t("th",null,"总金额")])],-1)),t("tbody",null,[lt.value.length===0?(o(),a("tr",Nl,[...e[89]||(e[89]=[t("td",{colspan:"5",class:"empty-tip"},"暂无汇总数据",-1)])])):_("",!0),(o(!0),a(E,null,D(lt.value,l=>(o(),a("tr",{key:l.userId},[t("td",null,u(l.real_name),1),t("td",null,u(l.newsAmount)+"元",1),t("td",null,u(l.editAmount)+"元",1),t("td",null,u(l.totalAmount)+"元",1)]))),128))])]),t("div",Rl,[e[91]||(e[91]=t("label",null,"平台总稿费:",-1)),t("span",null,u(Tt.value)+"元",1)])]),t("div",ql,[e[96]||(e[96]=t("label",null,"编辑部:",-1)),t("table",jl,[e[94]||(e[94]=t("thead",null,[t("tr",null,[t("th",null,"项目"),t("th",null,"供图人"),t("th",null,"金额详情"),t("th",null,"任务总金额")])],-1)),t("tbody",null,[vt.value.length===0?(o(),a("tr",zl,[...e[93]||(e[93]=[t("td",{colspan:"4",class:"empty-tip"},"暂无编辑部稿费记录",-1)])])):_("",!0),(o(!0),a(E,null,D(vt.value,l=>(o(),a("tr",{key:l.projectId},[t("td",null,u(l.article_title),1),t("td",null,u(l.real_name),1),t("td",null,u(l.amountDetail),1),t("td",null,u(l.totalAmount)+"元",1)]))),128))])]),t("div",Ol,[e[95]||(e[95]=t("label",null,"编辑部总:",-1)),t("span",null,u(ht.value)+"元",1)])]),t("div",Hl,[e[102]||(e[102]=t("label",null,"稿费汇总:",-1)),t("table",Kl,[e[98]||(e[98]=t("thead",null,[t("tr",null,[t("th",null,"姓名"),t("th",null,"新闻部稿费"),t("th",null,"编辑部稿费"),t("th",null,"总金额")])],-1)),t("tbody",null,[lt.value.length===0?(o(),a("tr",Ql,[...e[97]||(e[97]=[t("td",{colspan:"5",class:"empty-tip"},"暂无汇总数据",-1)])])):_("",!0),(o(!0),a(E,null,D(lt.value,l=>(o(),a("tr",{key:l.userId},[t("td",null,u(l.real_name),1),t("td",null,u(l.newsAmount)+"元",1),t("td",null,u(l.editAmount)+"元",1),t("td",null,u(l.totalAmount)+"元",1)]))),128))])]),t("div",Jl,[e[99]||(e[99]=t("label",null,"新闻部总:",-1)),t("span",null,u(Mt.value)+"元",1)]),t("div",Wl,[e[100]||(e[100]=t("label",null,"编辑部总:",-1)),t("span",null,u(ht.value)+"元",1)]),t("div",Gl,[e[101]||(e[101]=t("label",null,"平台总稿费:",-1)),t("span",null,u(Tt.value)+"元",1)])])])):_("",!0),C.value==="account"?(o(),a("div",Xl,[e[118]||(e[118]=t("div",{class:"section-title"},[t("div",{class:"title-line"}),t("h3",null,"代领调整后稿费")],-1)),t("div",Zl,[b(M,{inline:!0,model:q,class:"demo-form-inline"},{default:k(()=>[b(B(ge),{locale:B(Ie)},{default:k(()=>[b(d,{label:"选择月份："},{default:k(()=>[b(U,{modelValue:q.month,"onUpdate:modelValue":e[35]||(e[35]=l=>q.month=l),type:"month",placeholder:"选择月份",format:"YYYY年MM月","value-format":"YYYY-MM","disabled-date":Yt,onChange:Bt,"picker-options":{disabledDate:Yt,onPick:({maxDate:l,minDate:$})=>{const _t=$?.getFullYear();_t&&_t<2026&&(this.accountForm.month="")},prevYearIcon:q.month?.split("-")[0]<=2026?"hidden":""}},null,8,["modelValue","picker-options"])]),_:1})]),_:1},8,["locale"])]),_:1},8,["model"])]),t("table",tn,[e[105]||(e[105]=t("thead",null,[t("tr",null,[t("th",null,"代领人"),t("th",null,"被代领人"),t("th",null,"代领部门"),t("th",null,"代领金额")])],-1)),t("tbody",null,[R.value.length===0?(o(),a("tr",en,[...e[104]||(e[104]=[t("td",{colspan:"5",class:"empty-tip"},"暂无代领记录数据",-1)])])):_("",!0),(o(!0),a(E,null,D(R.value,l=>(o(),a("tr",{key:l.proxy_id},[t("td",null,u(l.proxy_user_name),1),t("td",null,u(l.original_user_name),1),t("td",null,u(l.department_name),1),t("td",null,u(B(g)(l.fee_amount)),1)]))),128))])]),e[119]||(e[119]=t("div",{class:"section-title mt-20"},[t("div",{class:"title-line"}),t("h3",null,"新闻部代领后")],-1)),t("table",ln,[e[109]||(e[109]=t("thead",null,[t("tr",null,[t("th",null,"日期"),t("th",null,"任务名称"),t("th",null,"人员姓名"),t("th",null,"金额"),t("th",null,"部门")])],-1)),t("tbody",null,[nt.value.length===0?(o(),a("tr",nn,[...e[106]||(e[106]=[t("td",{colspan:"5",class:"empty-tip"},"暂无新闻部代领后数据",-1)])])):_("",!0),(o(!0),a(E,null,D(nt.value,l=>(o(),a("tr",{key:l.record_id},[t("td",null,u(l.created_at),1),t("td",null,u(l.article_title),1),t("td",null,u(l.proxy_user_name),1),t("td",null,u(B(g)(l.fee_amount)),1),t("td",null,u(l.department_name),1)]))),128))]),nt.value.length>0?(o(),a("tfoot",un,[t("tr",on,[e[107]||(e[107]=t("td",{colspan:"3",align:"right"},"新闻部总计：",-1)),t("td",null,u(B(g)(Ct.value)),1),e[108]||(e[108]=t("td",null,null,-1))])])):_("",!0)]),e[120]||(e[120]=t("div",{class:"section-title mt-20"},[t("div",{class:"title-line"}),t("h3",null,"编辑部代领后")],-1)),t("table",an,[e[113]||(e[113]=t("thead",null,[t("tr",null,[t("th",null,"日期"),t("th",null,"任务名称"),t("th",null,"人员姓名"),t("th",null,"金额"),t("th",null,"部门")])],-1)),t("tbody",null,[ut.value.length===0?(o(),a("tr",sn,[...e[110]||(e[110]=[t("td",{colspan:"5",class:"empty-tip"},"暂无编辑部代领后数据",-1)])])):_("",!0),(o(!0),a(E,null,D(ut.value,l=>(o(),a("tr",{key:l.record_id},[t("td",null,u(l.created_at),1),t("td",null,u(l.article_title),1),t("td",null,u(l.proxy_user_name),1),t("td",null,u(B(g)(l.fee_amount)),1),t("td",null,u(l.department_name),1)]))),128))]),ut.value.length>0?(o(),a("tfoot",rn,[t("tr",dn,[e[111]||(e[111]=t("td",{colspan:"3",align:"right"},"编辑部总计：",-1)),t("td",null,u(B(g)(xt.value)),1),e[112]||(e[112]=t("td",null,null,-1))])])):_("",!0)]),e[121]||(e[121]=t("div",{class:"section-title mt-20"},[t("div",{class:"title-line"}),t("h3",null,"稿费代领后汇总")],-1)),t("table",pn,[e[117]||(e[117]=t("thead",null,[t("tr",null,[t("th",null,"日期"),t("th",null,"任务名称"),t("th",null,"人员姓名"),t("th",null,"金额"),t("th",null,"部门")])],-1)),t("tbody",null,[ot.value.length===0?(o(),a("tr",mn,[...e[114]||(e[114]=[t("td",{colspan:"5",class:"empty-tip"},"暂无稿费汇总数据",-1)])])):_("",!0),(o(!0),a(E,null,D(ot.value,l=>(o(),a("tr",{key:l.record_id},[t("td",null,u(l.created_at),1),t("td",null,u(l.article_title),1),t("td",null,u(l.proxy_user_name),1),t("td",null,u(B(g)(l.fee_amount)),1),t("td",null,u(l.department_name),1)]))),128))]),ot.value.length>0?(o(),a("tfoot",cn,[t("tr",vn,[e[115]||(e[115]=t("td",{colspan:"3",align:"right"},"平台总计：",-1)),t("td",null,u(B(g)(At.value)),1),e[116]||(e[116]=t("td",null,null,-1))])])):_("",!0)])])):_("",!0),bt.value?(o(),a("div",_n,[t("div",fn,[t("h4",null,u(it.value?"新增任务":"编辑任务"),1),t("div",bn,[e[122]||(e[122]=t("label",null,"日期:",-1)),f(t("input",{type:"date",class:"form-input","onUpdate:modelValue":e[36]||(e[36]=l=>F.created_at=l)},null,512),[[Y,F.created_at]])]),t("div",yn,[e[123]||(e[123]=t("label",null,"任务名称:",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[37]||(e[37]=l=>F.article_title=l)},null,512),[[Y,F.article_title]])]),t("div",gn,[e[124]||(e[124]=t("label",null,"参与人及金额:",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[38]||(e[38]=l=>F.userAmountDetail=l),placeholder:"如：张三(100),李四(200)"},null,512),[[Y,F.userAmountDetail]])]),t("div",En,[e[126]||(e[126]=t("label",null,"部门:",-1)),f(t("select",{class:"form-input","onUpdate:modelValue":e[39]||(e[39]=l=>F.deptId=l)},[...e[125]||(e[125]=[t("option",{value:"news"},"新闻部",-1),t("option",{value:"edit"},"编辑部",-1)])],512),[[x,F.deptId]])]),t("div",Dn,[t("button",{class:"cancel-btn",onClick:e[40]||(e[40]=l=>bt.value=!1)},"取消"),t("button",{class:"confirm-btn",onClick:Kt},"确认")])])])):_("",!0)]),_:1})}}},$n=ye(kn,[["__scopeId","data-v-dd8aaacf"]]);export{$n as default};
