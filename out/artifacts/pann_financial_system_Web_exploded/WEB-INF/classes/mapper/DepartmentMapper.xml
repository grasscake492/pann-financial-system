<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.pannfmis.dao.DepartmentMapper">

    <!-- 部门表结果映射 -->
    <resultMap id="DepartmentResultMap" type="org.pannfmis.entity.Department">
        <id property="departmentId" column="department_id" />
        <result property="departmentName" column="department_name" />
    </resultMap>

    <!-- 根据部门ID查询部门 -->
    <select id="selectByDepartmentId" parameterType="java.lang.Long" resultMap="DepartmentResultMap">
        SELECT department_id, department_name FROM departments WHERE department_id = #{departmentId}
    </select>

    <!-- 查询所有部门 -->
    <select id="selectAllDepartments" resultMap="DepartmentResultMap">
        SELECT department_id, department_name FROM departments ORDER BY department_id
    </select>

    <!-- 根据部门名称查询 -->
    <select id="selectByDepartmentName" parameterType="java.lang.String" resultMap="DepartmentResultMap">
        SELECT department_id, department_name FROM departments WHERE department_name = #{departmentName}
    </select>

    <!-- 插入部门 -->
    <insert id="insertDepartment" parameterType="org.pannfmis.entity.Department" useGeneratedKeys="true" keyProperty="departmentId">
        INSERT INTO departments (department_name) VALUES (#{departmentName})
    </insert>

    <!-- 更新部门 -->
    <update id="updateDepartment" parameterType="org.pannfmis.entity.Department">
        UPDATE departments SET department_name = #{departmentName} WHERE department_id = #{departmentId}
    </update>

    <!-- 删除部门 -->
    <delete id="deleteByDepartmentId" parameterType="java.lang.Long">
        DELETE FROM departments WHERE department_id = #{departmentId}
    </delete>

</mapper>